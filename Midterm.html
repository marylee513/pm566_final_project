<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Yiping Li" />

<meta name="date" content="2022-12-05" />

<title>Final</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">PM566 FinalProject YL</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Final Project</a>
</li>
<li>
  <a href="hw5.html">HW5</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Final</h1>
<h4 class="author">Yiping Li</h4>
<h4 class="date">2022-12-05</h4>

</div>


<pre class="r"><code>library(readxl)
library(plyr)
library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:plyr&#39;:
## 
##     arrange, count, desc, failwith, id, mutate, rename, summarise,
##     summarize</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>library(skimr)
library(ggplot2)</code></pre>
<p>Introduction: In the United States, more than half of the total
dietary energy consumption has been composed by ultra-processed foods
(UPFs). Most UPFs are calorie-dense and high in sugar, salt, and
unhealthy fats, while low in protein, vitamins, and minerals. Studies
have demonstrated that the increased consumption of UPFs could result in
a poor nutritional quality of the overall diet and high chances of
developing chronic diseases. Therefore, the aim of the study focuses on
exploring the association between UPF consumption and type 2 diabetes
(T2DM) and obesity among youth.</p>
<p>Method: The data used were obtained from the baseline visit (between
2014 and 2018) of the Children’s Health Study, which contained 158
participants aging from 17 to 22 years old. The 24-hour recall was used
to obtain the food items that participants consumed and to further
calculate the UPF consumption percentage (UPF%), which equaled to the
UPF consumption amount in grams divided by total food consumption amount
in grams. A total of 155 participants had appropriate UPF% were included
in the study. After exclude participants who did not have T2DM related
variables and implausible blood glucose levels, a total of 153
participants were being studied. Demographic variables, BMI, UPF%, and
T2DM related variables (fasting glucose, blood glucose after 120
minutes, and HbA1c) were included in this particular study.</p>
<p>*Ultra-Processed Food Definition and Classification Ultra-processed
foods are defined as food items that go through multiple manipulated
process before people purchase or eat them. A total of 1167 food items
(including ingredients) were collected at baseline visit and a total of
807 food items were collected were collected at follow-up visit using
24-hour dietary recalls (24HRs). Two reviewers conducted following two
processes independently. Firstly, reviewers used NOVA classification to
group food items into 4 groups: unprocessed and minimally processed
foods, processed culinary ingredients, processed foods, and
ultra-processed foods (UPFs). Secondly, reviewers grouped the first 3
groups into non-UPFs group, so only two groups were resulted. After
grouping, reviewers had disagreements on food item classification,
reviewers share own perspectives to seek an agreement. In general, UPF
classification criteria were as following: the major ingredient of a
food item; how the food is made in the U.S. normally; the way most
people get the food – purchase from a grocery store or homemade.</p>
<pre class="r"><code>metaair &lt;- readRDS(&quot;/Users/yiping/Desktop/Epi research/OneDrive - University of Southern California/MetaChem/metaair.rds&quot;)
UPFMean_grams &lt;- read_excel(&quot;/Users/yiping/Desktop/Epi research/USC-Liz/independent research - UPF/UPF% calculation2/UPFgrams_baseline.xlsx&quot;)</code></pre>
<pre class="r"><code>myvars &lt;- c(&quot;ID&quot;, &quot;cage&quot;, &quot;male&quot;, &quot;race2&quot;, &quot;bmi_avg&quot;, &quot;bmiclass&quot;, &quot;diabetesbinary&quot;, &quot;gluc_fasting&quot;, &quot;gluc_120min&quot;, &quot;hba1c&quot;)
subsetmetachem &lt;- metaair[myvars]</code></pre>
<pre class="r"><code>vars &lt;- merge(subsetmetachem, UPFMean_grams)</code></pre>
<p>To better apply the numeric variable, the UPF%, was used to create 2
categorical variables. The first one was UPF quartiles, which was
created by evenly cut the UPF% into 4 groups. The second one was a
binary UPF variable, which was created by assuming those who consumed
less than 75% of UPFs as low UPF consumption group and the rest as high
UPF consumption group.</p>
<pre class="r"><code>vars$UPF_quart &lt;- cut(vars$UPFpercentage_mean,
                          breaks=c(0, 25, 50, 75, 100),
                          labels=c(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;))

vars$UPF_cat &lt;- cut(vars$UPFpercentage_mean,
                             breaks=c(0, 50, 100),
                             labels=c(&quot;0&quot;, &quot;1&quot;))</code></pre>
<p>Appropriate names of variables were given to better view the
dataset.</p>
<pre class="r"><code>names(vars)[2] &lt;- &quot;Age&quot;
names(vars)[3] &lt;- &quot;Male&quot;
names(vars)[4] &lt;- &quot;Race&quot;
names(vars)[5] &lt;- &quot;BMI_cont&quot;
names(vars)[6] &lt;- &quot;BMI_cat&quot;
names(vars)[7] &lt;-  &quot;Diabetes_cat&quot;
names(vars)[8] &lt;- &quot;Gluc_Fasting&quot;
names(vars)[9] &lt;- &quot;Gluc_120min&quot;
names(vars)[10] &lt;- &quot;HbA1C&quot;</code></pre>
<pre class="r"><code>vars$Male &lt;- as.factor(vars$Male)
vars$Male &lt;- revalue(vars$Male, c(&quot;0&quot; = &quot;Female&quot;, &quot;1&quot; = &quot;Male&quot;))</code></pre>
<p>Participants with missing values in T2DM or fasting glucose or blood
glucose after 120 minutes were excluded. Participants with implausible
fasting glucose of greater than 200 mg/dL and glucose after 120 minutes
of greater than 400 mg/dL were also excluded.</p>
<pre class="r"><code>vars &lt;- vars %&gt;%
  filter(!is.na(Diabetes_cat)) %&gt;%
  filter(!is.na(Gluc_Fasting)) %&gt;%
  filter(!is.na(Gluc_120min)) %&gt;%
  filter(Gluc_Fasting &lt; 200) %&gt;%
  filter(Gluc_120min &lt; 400)</code></pre>
<p>A categorical variable, UPF and BMI, that contained all cases of the
UPF binary variable and BMI categories conbination was created to
explore the association between UPF consumption and BMI.</p>
<pre class="r"><code>vars &lt;- vars %&gt;%
  mutate(UPF_BMI = factor(
    case_when(UPF_cat == 0 &amp; BMI_cat == &quot;Normal&quot; ~ &quot;Low UPF Normal Weight&quot;,
              UPF_cat == 0 &amp; BMI_cat == &quot;Overweight&quot; ~ &quot;Low UPF Overweight&quot;,
              UPF_cat == 0 &amp; BMI_cat == &quot;Obese&quot; ~ &quot;Low UPF Obese&quot;,
              UPF_cat == 1 &amp; BMI_cat == &quot;Normal&quot; ~ &quot;High UPF Normal Weight&quot;,
              UPF_cat == 1 &amp; BMI_cat == &quot;Overweight&quot; ~ &quot;High UPF Overweight&quot;,
              UPF_cat == 1 &amp; BMI_cat == &quot;Obese&quot; ~ &quot;High UPF Obese&quot;)
  ))

vars&lt;- vars %&gt;%
  filter(!is.na(UPF_BMI))</code></pre>
<p>Scatterplots of UPF% on BMI, fasting glucose, and blood glucose after
120 minutes were created. Histograms of fasting glucose by UPF quartiles
and blood glucose after 120 minutes by UPF quartiles were created. In
addition, histograms of fasting glucose by UPF quartiles and blood
glucose after 120 minutes by BMI were created.</p>
<p>Results: Table 1 shows the minimum and the maximum fasting glucose
and blood glucose after 120 minutes, and the number of subjects by UPF
quartiles. Most subjects consomed 0-25% of UPFs, and the number of
subjects decreases as the percentage of UPF consumption increases.</p>
<pre class="r"><code>table1 &lt;- vars %&gt;%
  group_by(UPF_quart) %&gt;%
  summarise(
    Gluc_Fasting_min = min(Gluc_Fasting),
    Gluc_Fasting_max = max(Gluc_Fasting),
    Gluc_120min_min = min(Gluc_120min),
    Gluc_120min_max = max(Gluc_120min),
    Gluc_num = n(),
  )
knitr::kable(table1)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="11%" />
<col width="20%" />
<col width="20%" />
<col width="18%" />
<col width="18%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">UPF_quart</th>
<th align="right">Gluc_Fasting_min</th>
<th align="right">Gluc_Fasting_max</th>
<th align="right">Gluc_120min_min</th>
<th align="right">Gluc_120min_max</th>
<th align="right">Gluc_num</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="right">76</td>
<td align="right">119</td>
<td align="right">55</td>
<td align="right">208</td>
<td align="right">105</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="right">74</td>
<td align="right">110</td>
<td align="right">70</td>
<td align="right">200</td>
<td align="right">43</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="right">76</td>
<td align="right">95</td>
<td align="right">99</td>
<td align="right">131</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="right">91</td>
<td align="right">91</td>
<td align="right">135</td>
<td align="right">135</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>Table 2 shows the minimum and the maximum fasting glucose and blood
glucose after 120 minutes, and the number of subjects by UPF consumption
in low or high groups. Only 1 subject falls into the high UPF
consumption category.</p>
<pre class="r"><code>table2 &lt;- vars %&gt;%
  group_by(UPF_cat) %&gt;%
  summarise(
    Gluc_Fasting_min = min(Gluc_Fasting),
    Gluc_Fasting_max = max(Gluc_Fasting),
    Gluc_120min_min = min(Gluc_120min),
    GLuc_120min_max = max(Gluc_120min),
    Gluc_num = n(),
  )
knitr::kable(table2)</code></pre>
<table>
<colgroup>
<col width="9%" />
<col width="20%" />
<col width="20%" />
<col width="19%" />
<col width="19%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">UPF_cat</th>
<th align="right">Gluc_Fasting_min</th>
<th align="right">Gluc_Fasting_max</th>
<th align="right">Gluc_120min_min</th>
<th align="right">GLuc_120min_max</th>
<th align="right">Gluc_num</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="right">74</td>
<td align="right">119</td>
<td align="right">55</td>
<td align="right">208</td>
<td align="right">148</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="right">76</td>
<td align="right">95</td>
<td align="right">99</td>
<td align="right">135</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
<p>Table 3 shows the minimum and the maximum fasting glucose and blood
glucose after 120 minutes, and the number of subjects by BMI.</p>
<pre class="r"><code>table3 &lt;- vars %&gt;%
  group_by(BMI_cat) %&gt;%
  summarise(
    Gluc_Fasting_min = min(Gluc_Fasting),
    Gluc_Fasting_max = max(Gluc_Fasting),
    Gluc_120min_min = min(Gluc_120min),
    GLuc_120min_max = max(Gluc_120min),
    Gluc_num = n(),
  )
knitr::kable(table3)</code></pre>
<table>
<colgroup>
<col width="12%" />
<col width="19%" />
<col width="19%" />
<col width="18%" />
<col width="18%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">BMI_cat</th>
<th align="right">Gluc_Fasting_min</th>
<th align="right">Gluc_Fasting_max</th>
<th align="right">Gluc_120min_min</th>
<th align="right">GLuc_120min_max</th>
<th align="right">Gluc_num</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Normal</td>
<td align="right">74</td>
<td align="right">107</td>
<td align="right">55</td>
<td align="right">176</td>
<td align="right">24</td>
</tr>
<tr class="even">
<td align="left">Obese</td>
<td align="right">77</td>
<td align="right">119</td>
<td align="right">83</td>
<td align="right">208</td>
<td align="right">56</td>
</tr>
<tr class="odd">
<td align="left">Overweight</td>
<td align="right">76</td>
<td align="right">107</td>
<td align="right">55</td>
<td align="right">200</td>
<td align="right">73</td>
</tr>
</tbody>
</table>
<p>Table 4 shows the number of subjects in each subgroup of the variable
UPF and BMI. Only 1 subject who was overweight falls into the category
of high UPF consumption.</p>
<pre class="r"><code>table4 &lt;- vars %&gt;%
  group_by(UPF_BMI) %&gt;%
  summarise(
    Group_num = n(),
  )
knitr::kable(table4)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">UPF_BMI</th>
<th align="right">Group_num</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">High UPF Obese</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">High UPF Overweight</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">Low UPF Normal Weight</td>
<td align="right">24</td>
</tr>
<tr class="even">
<td align="left">Low UPF Obese</td>
<td align="right">54</td>
</tr>
<tr class="odd">
<td align="left">Low UPF Overweight</td>
<td align="right">70</td>
</tr>
</tbody>
</table>
<p>Figure 1 to 3 shows UPF% vs BMI, fasting glucose, and blood glucose
after 120 minutes correspondingly. None of the plots show a trend of
UPF% on those variables interested in.</p>
<pre class="r"><code>ggplot(vars, aes(x = UPFpercentage_mean, y = BMI_cont)) + 
  geom_point() +
  labs(title = &quot;Fig1: Scatterplot of UPF vs. BMI&quot;, x = &quot;UPF%&quot;, y = &quot;BMI&quot;) + 
  geom_smooth(method = lm, se = FALSE)</code></pre>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="Midterm_files/figure-html/scatterplots%20and%20smoothed%20slineplots%20of%20UPF_cont%20vs%20BMI_cont,%20Gluc_Fasting,%20Gluc_120min-1.png" width="672" /></p>
<pre class="r"><code>ggplot(vars, aes(x = UPFpercentage_mean, y = BMI_cont)) + 
  geom_line () +
  geom_smooth () +
  labs(title = &quot;Fig1: Smooth Lineplot of UPF vs. BMI&quot;, x = &quot;UPF%&quot;, y = &quot;BMI&quot;) </code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Midterm_files/figure-html/scatterplots%20and%20smoothed%20slineplots%20of%20UPF_cont%20vs%20BMI_cont,%20Gluc_Fasting,%20Gluc_120min-2.png" width="672" /></p>
<pre class="r"><code>ggplot(vars, aes(x = UPFpercentage_mean, y = Gluc_Fasting)) + 
  geom_point() +
  labs(title = &quot;Fig2: Scatterplot of UPF vs. Fasting Glucose&quot;, x = &quot;UPF%&quot;, y = &quot;Fasting Glucose&quot;) + 
  geom_smooth(method = lm, se = FALSE)</code></pre>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="Midterm_files/figure-html/scatterplots%20and%20smoothed%20slineplots%20of%20UPF_cont%20vs%20BMI_cont,%20Gluc_Fasting,%20Gluc_120min-3.png" width="672" /></p>
<pre class="r"><code>ggplot(vars, aes(x = UPFpercentage_mean, y = Gluc_Fasting)) + 
  geom_line () +
  geom_smooth () +
  labs(title = &quot;Fig2: Smooth Lineplot of UPF vs. Fasting Glucose&quot;, x = &quot;UPF%&quot;, y = &quot;BMI&quot;) </code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Midterm_files/figure-html/scatterplots%20and%20smoothed%20slineplots%20of%20UPF_cont%20vs%20BMI_cont,%20Gluc_Fasting,%20Gluc_120min-4.png" width="672" /></p>
<pre class="r"><code>ggplot(vars, aes(x = UPFpercentage_mean, y = Gluc_120min)) + 
  geom_point() +
  labs(title = &quot;Fig3: Scatterplot of UPF vs. Blood Glucose after 120 minutes&quot;, x = &quot;UPF%&quot;, y = &quot;Blood Glucose after 120 minutes&quot;) +
  geom_smooth(method = lm, se = FALSE)</code></pre>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="Midterm_files/figure-html/scatterplots%20and%20smoothed%20slineplots%20of%20UPF_cont%20vs%20BMI_cont,%20Gluc_Fasting,%20Gluc_120min-5.png" width="672" /></p>
<pre class="r"><code>ggplot(vars, aes(x = UPFpercentage_mean, y = Gluc_Fasting)) + 
  geom_line () +
  geom_smooth () +
  labs(title = &quot;Fig3: Smooth Lineplot of UPF vs. Blood Glucose after 120 minutes&quot;, x = &quot;UPF%&quot;, y = &quot;Blood Glucose after 120 minutes&quot;) </code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="Midterm_files/figure-html/scatterplots%20and%20smoothed%20slineplots%20of%20UPF_cont%20vs%20BMI_cont,%20Gluc_Fasting,%20Gluc_120min-6.png" width="672" /></p>
<p>Figure 4 BMI by UPF consumption shows that subjects who consumed
0-25% UPF had a pattern with right skewed, while subjects who comsumed
greater than 25% UPF showed no specific pattern.</p>
<pre class="r"><code>vars %&gt;%
  ggplot(aes(x = BMI_cont, fill = as.factor(Male))) +
  geom_histogram(position = &quot;identity&quot;, alpha = 0.5) +
  labs(title = &quot;Fig4: BMI by Sex&quot;, x = &quot;BMI&quot;, fill = &quot;Sex&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Midterm_files/figure-html/histogram,%20BMI%20by%20UPF%20quartiles-1.png" width="672" /></p>
<p>Figure 5 fasting glucose by UPF quartiles shows that most subjects
consumed 0-25% UPF and the second most subjects consumed 25-50% UPF.
However, both UPF amounts consumption show no pattern for fasting
flucose, which is also not normally distributed. This figure does not
show any association between fasting glucose and UPF consumption.</p>
<p>Figure 6 Blood Glucose after 120 minutes shows that subjects consumed
0-25% and 25-50% UPF are almost normally distributed for their blood
glucose level after 120 minutes. However, this figure also shows no
association between blood glucose after 120 minutes and UPF
consumption.</p>
<pre class="r"><code>vars %&gt;%
  ggplot(aes(x = Gluc_Fasting, fill = as.factor(Male))) +
  geom_histogram(position = &quot;identity&quot;, alpha = 0.5) +
  labs(title = &quot;Fig5: Fasting Glucose by Sex&quot;, x = &quot;Fasting Glucose&quot;, fill = &quot;Sex&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Midterm_files/figure-html/histogram,%20glu-fasting/120mins%20by%20UPF_quart-1.png" width="672" /></p>
<pre class="r"><code>vars %&gt;%
  ggplot(aes(x = Gluc_120min, fill = as.factor(Male))) +
  geom_histogram(position = &quot;identity&quot;, alpha = 0.5) +
  labs(title = &quot;Fig6: Blood Glucose after 120mins by Sex&quot;, x = &quot;Blood Glucose after 120mins&quot;, fill = &quot;Sex&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="Midterm_files/figure-html/histogram,%20glu-fasting/120mins%20by%20UPF_quart-2.png" width="672" /></p>
<p>The barchart Figure 7 shows in another way that most subjects
consumed low amount of UPFs were either overweight or obese.</p>
<pre class="r"><code>vars %&gt;%
  ggplot(aes(x = UPF_BMI, fill = UPF_quart)) +
  geom_bar() +
  labs(title = &quot;Fig7: UPF binary and BMI combined by UPF Quartile&quot;, x = &quot;UPF_BMI&quot;, fill = &quot;UPF Quartile&quot;)</code></pre>
<p><img src="Midterm_files/figure-html/barchart,%20UPF_BMI%20by%20UPF_quart,%20cont-1.png" width="672" /></p>
<p>Figure 8 to Figure 14 are the statistical summary graphs of fasting
glucose or blood glucose after 120 minutes by UPF quartiles of BMI.</p>
<pre class="r"><code>vars %&gt;%
  ggplot() +
  stat_summary(mapping = aes(x = BMI_cat, y = UPFpercentage_mean),
               fun.min = min,
               fun.max = max, 
               fun = median) + 
  labs(title = &quot;Fig8: Statistical Summary of UPF% by BMI Categories&quot;, x = &quot;BMI&quot;, y = &quot;UPF%&quot;)</code></pre>
<p><img src="Midterm_files/figure-html/statistical%20summary%20graph,%20glu-fasting/120mins%20by%20UPF_quart%20and%20BMI-1.png" width="672" /></p>
<p>Conclusion: Based on the above data exploration and graphs, no clear
pattern shows that UPF consumption is associated with obesity or T2DM.
One reason can be the number of participants is limited.</p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
